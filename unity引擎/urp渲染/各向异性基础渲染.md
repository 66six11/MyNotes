## 演示
![](Pasted%20image%2020250328000115.png)
![](Pasted%20image%2020250328000125.png)
## 前言
各项异性与普通光照模型有些许区别

普通光照渲染：高光通常为圆形

各向异性渲染 ：高光为环形（天使环），并且可以加入扰动变为拉丝形高光

这里以blinn-phong 基于 Kajiya-Kay模型 来实现

> blinn-phong的光照渲染分为： 环境光+漫反射加高光反射
> 
> 这里基于 Kajiya-Kay模型实现为：环境光+漫反射+ 各向异性高光


## 核心思路：

  

### 基础计算

设 ：

> 视线方向V ：点到摄像机
> 
> 光照方向L：点到光源
> 
> 半角向量H = 归一化（V+L）
> 
> 法线N
> 
> 切线T
> 
> 副切线B

  

blinn-phong的高光计算： 光照颜色 * （max（0，H • N ）^ 反光系数

  

各向异性高光计算 ：将 H • N 替换成了 平方根（1- {（T 或者 B）•H }²）

  

即：$$光照颜色\ast max(0, \sqrt{1- (T或者B \ast H)}) ^{反光系数}$$

  

### 高光扰动：

取一张扰动贴图，例如
![](Pasted%20image%2020250328000136.png)

采样该帖图的同时在T或B方向上加入法向方向的该值 T或者B + N * _采样值（0-1）_ * 扰动程度值

  

计算结果：环境光+漫反射+ 各向异性高光

  

## 源码：（URP渲染管线）
![](AnisotropicURP.shader)